001.cpp (8ms):

Recall the lowbit function f(x) = x & -x, whose principle is not difficult to understand for two's complement representation of negative numbers. Then we can solve this problem in one line. Notice the condition when "n" is not a positive number.