001.cpp (256ms):

Every time we call "know(a, b)", we can remove one candidate. So the time complexity can be O(n).