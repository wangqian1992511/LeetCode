001.cpp (9ms):

The time complexity is O(n). Maintain the latest value for each level while performing the depth-first search.
