001.cpp (20ms):

Use divide and conquer to get an O(n) solution. Every time, we determine the root for a subtree and build its corresponding left and right subtrees.