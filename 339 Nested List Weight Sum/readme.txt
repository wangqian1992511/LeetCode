001.cpp (4ms):

The depth is kept through DFS.