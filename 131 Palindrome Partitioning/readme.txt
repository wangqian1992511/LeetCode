001.cpp (12ms):

First conduct the preprocess to find whether "s[l..r]" is a palindrome. Then perform the backtracking with DFS.