001.cpp (16ms):
001.py (176ms):

Floodfill from 'o' on the four margins. Then, all the unvisited coordinates should be converted into 'X'.